# auto-gen-tag

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)

`auto-gen-tag` æ˜¯ä¸€ä¸ªä¸“æ³¨äºè‡ªåŠ¨åˆ›å»ºå’Œç®¡ç† Git æ ‡ç­¾ çš„å·¥å…·ï¼Œç”¨äºç®€åŒ–å‘ç‰ˆæ“ä½œæµç¨‹ã€‚å®ƒé€šè¿‡è¯†åˆ«æœ€è¿‘çš„ Git æ ‡ç­¾ï¼Œå¹¶æ ¹æ®é…ç½®è§„åˆ™æ™ºèƒ½é€’å¢ç‰ˆæœ¬å·ï¼Œä»è€Œç”Ÿæˆæ–°çš„æ ‡ç­¾ã€‚

## ğŸ“¦ å®‰è£…

```bash
npm i -g auto-gen-tag
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

æ— éœ€é…ç½®ï¼Œç›´æ¥è¿è¡Œï¼š

```bash
gt
```

è¿™å°†ä½¿ç”¨é»˜è®¤è§„åˆ™ï¼ˆ`v${major}.${minor}.${patch}`ï¼‰æ‰¾åˆ°æœ€æ–°æ ‡ç­¾å¹¶é€’å¢è¡¥ä¸ç‰ˆæœ¬å·ã€‚

### å‘½ä»¤è¯­æ³•

```bash
gt [é…ç½®æ¨¡å¼] [ç‰ˆæœ¬ç±»å‹]
```

- **é…ç½®æ¨¡å¼**ï¼šå¯¹åº”é…ç½®æ–‡ä»¶ä¸­ `tagPattern` çš„é”®åï¼ˆå¦‚ `default`ã€`test`ï¼‰
- **ç‰ˆæœ¬ç±»å‹**ï¼šæŒ‡å®šè¦é€’å¢çš„ç‰ˆæœ¬éƒ¨åˆ†ï¼ˆ`major`ã€`minor`ã€`patch`ï¼‰

### é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.gentagrc` æˆ– `.gentagrc.json` æ–‡ä»¶ï¼š

```json
{
  "tagPattern": {
    "default": "v${major}.${minor}.${patch}",
    "test": "test-${major}.${minor}.${patch}",
    "prod": "release-${major}.${minor}.${patch}",
    "daily": "v${YYYYMMDD}",
    "simple": "v${n}"
  },
  "autoPush": true
}
```

### ç¯å¢ƒå˜é‡

ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

```bash
export GENTAG_PATTERN="v${major}.${minor}.${patch}"
export GENTAG_INITIAL="v0.1.0"
export GENTAG_AUTO_PUSH=false
```

### ç¤ºä¾‹

```bash
# ä½¿ç”¨é»˜è®¤æ¨¡å¼ï¼Œé€’å¢è¡¥ä¸ç‰ˆæœ¬ï¼ˆv0.1.0 -> v0.1.1ï¼‰
gt

# ä½¿ç”¨æµ‹è¯•ç¯å¢ƒï¼Œé€’å¢è¡¥ä¸ç‰ˆæœ¬ï¼ˆtest-v0.1.0 -> test-v0.1.1ï¼‰
gt test

# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒï¼Œé€’å¢æ¬¡è¦ç‰ˆæœ¬ï¼ˆrelease-v0.1.0 -> release-v0.2.0ï¼‰
gt prod minor

# ä½¿ç”¨æ—¥æœŸç‰ˆæœ¬ï¼ˆv20230401 -> v20230402ï¼‰
gt daily

# ä½¿ç”¨é€’å¢æ•°å­—ç‰ˆæœ¬ï¼ˆv1 -> v2ï¼‰
gt simple

# æŸ¥çœ‹æœ€è¿‘10ä¸ªæ ‡ç­¾
gt list -n 10

# æŸ¥çœ‹åŒ…å«"test"çš„æ ‡ç­¾
gt list -p "test"

# æ˜¾ç¤ºæ ‡ç­¾è¯¦ç»†ä¿¡æ¯
gt list -v

# åˆ é™¤æ ‡ç­¾ test-0.1.3ï¼ˆåŒ…æ‹¬è¿œç¨‹æ ‡ç­¾ï¼‰
gt rm test-0.1.3
```

## å…¶ä»–å‘½ä»¤é€‰é¡¹

### gt list

ç”¨äºæŸ¥çœ‹æœ€è¿‘åˆ›å»ºçš„æ ‡ç­¾

```bash
gt list [é€‰é¡¹]
```

é€‰é¡¹ï¼š

- `-n, --number <n>`: æ˜¾ç¤ºæœ€è¿‘ n ä¸ªæ ‡ç­¾ï¼ˆé»˜è®¤ï¼š10ï¼‰
- `-p, --pattern <pattern>`: æŒ‰æŒ‡å®šæ¨¡å¼è¿‡æ»¤æ ‡ç­¾
- `-v, --verbose`: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æäº¤ä¿¡æ¯å’Œæ—¥æœŸ

### gt rm

ç”¨äºåˆ é™¤æœ¬åœ°å’Œè¿œç¨‹çš„ Git æ ‡ç­¾

```bash
gt rm <æ ‡ç­¾åç§°>
```

ç¤ºä¾‹ï¼š

```bash
# åˆ é™¤æ ‡ç­¾ test-0.1.3
gt rm test-0.1.3
```

è¯¥å‘½ä»¤å°†ï¼š

1. åˆ é™¤æœ¬åœ°æ ‡ç­¾
2. è‹¥é…ç½®æ–‡ä»¶ä¸­ `autoPush` ä¸º `true`ï¼Œåˆ™åŒæ—¶åˆ é™¤è¿œç¨‹æ ‡ç­¾

## ğŸ’¡ æœ€ä½³å®è·µ

- **CI/CD é›†æˆ**ï¼šåœ¨æ„å»ºæµç¨‹ä¸­æ·»åŠ  `gt` å‘½ä»¤è‡ªåŠ¨ç”Ÿæˆå‘å¸ƒæ ‡ç­¾
- **ç¯å¢ƒåˆ†ç¦»**ï¼šä¸ºæµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸åŒçš„æ ‡ç­¾å‰ç¼€
- **ç‰ˆæœ¬ç­–ç•¥**ï¼šåˆ¶å®šæ¸…æ™°çš„ç‰ˆæœ¬é€’å¢ç­–ç•¥ï¼Œä½•æ—¶é€’å¢ä¸»ç‰ˆæœ¬ã€æ¬¡ç‰ˆæœ¬å’Œè¡¥ä¸ç‰ˆæœ¬

## ğŸ“ ç‰ˆæœ¬å†å²

- **1.0.0**: åˆå§‹ç‰ˆæœ¬
